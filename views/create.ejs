<!DOCTYPE html>
<html ng-app="Movie">

<% include ../layout/head %>

<body ng-controller="createController" style="padding:0; margin:0">
    <% include ../layout/header %>
    <section style="margin: 100px">
        <div class="container" >
            <div class="col-md-6 col-md-offset-3" style="border: 1px solid coral; border-radius: 10px;">
                <h1 style="text-align: center; color: coral; font-family: Georgia, 'Times New Roman', Times, serif">Create
                    Movie</h1>
                <form name="createForm" class="md-form" novalidate="novalidate" enctype="multipart/form-data">
                    <div id="movie-form" class="col-md-10 col-md-offset-1">
                        <div class="form-group">
                            <label for="name" style="color: coral">Movie's Name</label>
                            <input name="name" ng-model="dataMovies.name" type="text" class="form-control" id="name"
                                placeholder="Movie's Name" required="" aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="exampleSelect2" style="color: coral">Genre:</label>
                            <select ng-init="dataMovies.genre = genres[0]" ng-model="dataMovies.genre" ng-options="genre for genre in genres"
                                name="genre" class="required form-control" id="genre" aria-required="true" id="exampleSelect2"
                                aria-invalid="false">
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="datepicker" style="color: coral">Release Date</label>
                            <input name="date" ng-model="dataMovies.date" type="text" class="form-control" id="datepicker"
                                aria-invalid="false" aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="exampleTextarea" style="color: coral">Description</label>
                            <textarea name="content" ng-model="dataMovies.content" class="form-control" id="exampleTextarea"
                                placeholder="Write about movie's content, actor, actress, author,..." rows="5"></textarea>
                        </div>
                        <div class="input-group">
                            <span class="input-group-btn">
                                <span class="btn btn-file">
                                    Poster's Film
                                    <input accept="image/png, image/jpeg" name="file" type="file" id="files">
                                </span>
                            </span>
                            <input style="border: 1px solid white " readonly="readonly" placeholder="Picture file"
                                class="form-control" id="filename" type="text">
                            <img id="image" />
                        </div>
                        <div class="form-group" style="margin-top: 20px;">
                            <button ng-click="submit()" class="btn align-right" id="register-button">Create</button>
                            <button  class="btn" data-toggle="modal" data-target=".bs-example-modal-sm1" style="background-color: #9F1C00" id="cancel-button" id="register1">Cancel</button>
                        </div>
                    </div>
                </form>
            </div>

        </div>
        </div>
    </section>
    <% include ../layout/footer %>
    <div class="modal bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-body text-center" style="padding: 50px 0 50px 0;"><i class="fa fa-question-circle"></i> Are you sure you want to log-out?</div>
                        <div class="modal-footer center">
                            <a href="#" data-dismiss="modal" style="color:white; font-weight: bold;float: left;background-color: darkred!important"class="btn">Cancel</a>
                            <a href="/logout" style="color:white; font-weight: bold;background-color: coral!important"class="btn ">Logout</a>
                        </div>
                    </div>
            </div>
    </div>
    <div class="modal bs-example-modal-sm1" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-sm">
              <div class="modal-content">
                <div class="modal-body text-center" style="padding: 50px 0 50px 0"><i class="fa fa-question-circle"></i> Do you want to cancel ?</div>
                <div class="modal-footer">
                    <a data-dismiss="modal" style="color:white; font-weight: bold;background-color: darkred!important; float:left"class="btn ">NO</a>
                    <a ng-click="cancel()" style="color:white; font-weight: bold;background-color: coral!important"class="btn ">Yes</a>
                </div>
              </div>
            </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
<script>
    $(function () {
        $("#datepicker").datepicker({ dateFormat: 'dd-mm-yy' });
        $("#datepicker").datepicker().datepicker("setDate", new Date());
    })
</script>
<script src="/javascripts/apiService.js"></script>
<script src="/javascripts/Movie/createMovies.js"></script>
<script>
    document.getElementById("files").onchange = function () {
        var reader = new FileReader();
        var fileName = document.getElementById("filename");
        reader.onload = function (e) {
            // get loaded data and render thumbnail.
            document.getElementById("image").src = e.target.result;
            fileName.style.display = "none";
        };
        // read the image file as a data URL.
        reader.readAsDataURL(this.files[0]);
    };
</script>

</html>